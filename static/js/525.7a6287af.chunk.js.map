{"version":3,"file":"static/js/525.7a6287af.chunk.js","mappings":"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","sources":["components/MovieDetails.styled.jsx","Pages/MoviesDetails.jsx","Services/MovieApi.js"],"sourcesContent":["import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const ButtonBack = styled(NavLink)`\n  display: block;\n  width: 100px;\n  border: 1px solid #aaa5a5;\n  font-size: 16px;\n  text-align: center;\n  padding: 10px 0;\n  margin-top: 50px;\n  margin-bottom: 20px;\n  &:hover,\n  &:focus {\n    background-color: #292424;\n    color: #fff;\n  }\n`;\n\nexport const DetailsBox = styled.div`\n  display: flex;\n  margin-bottom: 50px;\n  & > img {\n    display: block;\n    margin-right: 50px;\n  }\n`;\n\nexport const DetailsTitle = styled.h2`\n  margin-top: 0;\n  font-size: 48px;\n  font-weight: 700;\n  margin-bottom: 30px;\n`;\n\nexport const DetailsText = styled.p`\n  font-size: 16px;\n  font-weight: 700;\n  margin-bottom: 15px;\n`;\n\nexport const InfoLink = styled(ButtonBack)`\n  display: inline-block;\n  width: 80px;\n  border: 1px solid #aaa5a5;\n  font-size: 16px;\n  text-align: center;\n  padding: 10px 0;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 30px;\n  &:hover,\n  &:focus {\n    background-color: #292424;\n    color: #fff;\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { useParams, useLocation, Outlet } from 'react-router-dom';\nimport { getFilmsById } from 'Services/MovieApi';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {\n  ButtonBack,\n  DetailsBox,\n  DetailsText,\n  DetailsTitle,\n  InfoLink,\n} from 'components/MovieDetails.styled';\nimport { InfinitySpin } from 'react-loader-spinner';\n\nconst defaultImg = new URL('../img/zaglushka.jpg', import.meta.url);\n\nconst MoviesDetails = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (!movieId) return;\n    const getMovieById = async movieId => {\n      try {\n        setLoading(true);\n        const movieDetails = await getFilmsById(movieId);\n\n        setMovieDetails(movieDetails);\n      } catch (error) {\n        setError('Oops. Something went wrong ðŸ˜­');\n      } finally {\n        setLoading(false);\n      }\n    };\n    getMovieById(movieId);\n  }, [movieId]);\n\n  useEffect(() => {\n    if (error) {\n      toast.error(error);\n    }\n  }, [error]);\n\n  return (\n    <>\n      {movieDetails && !loading && !error && (\n        <div>\n          <ButtonBack to={location?.state?.from}>Go back</ButtonBack>\n          <DetailsBox>\n            <img\n              src={\n                movieDetails.poster_path\n                  ? 'https://image.tmdb.org/t/p/w500' + movieDetails.poster_path\n                  : defaultImg\n              }\n              alt={movieDetails.original_title}\n            />\n            <div>\n              <DetailsTitle>\n                {movieDetails.original_title}(\n                {movieDetails.release_date.slice(0, 4)})\n              </DetailsTitle>\n              <DetailsText>\n                User score: {movieDetails.vote_average.toFixed(1)}\n              </DetailsText>\n              <DetailsText>Overview</DetailsText>\n              <p>{movieDetails.overview}</p>\n              <DetailsText>Genres</DetailsText>\n              <p>{movieDetails.genres.map(({ name }) => name).join(' ,')}</p>\n            </div>\n          </DetailsBox>\n          <div>\n            <DetailsTitle>Additional information</DetailsTitle>\n\n            <InfoLink to=\"cast\" state={{ from: location?.state?.from }}>\n              Cast\n            </InfoLink>\n            <InfoLink to=\"reviews\" state={{ from: location?.state?.from }}>\n              Reviews\n            </InfoLink>\n\n            <Outlet />\n          </div>\n        </div>\n      )}\n      {loading && !error && <InfinitySpin width=\"200\" color=\"#4fa94d\" />}\n      <ToastContainer\n        position=\"top-center\"\n        autoClose={5000}\n        closeOnClick\n        theme=\"colored\"\n      />\n    </>\n  );\n};\n\nexport default MoviesDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '2963fc82afd3cb57f64d050a1ba5935c';\n\nexport async function getPopularFilms() {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n  };\n  const { data } = await axios.get('/trending/movie/day', { params });\n  const movies = data.results.map(({ id, original_title }) => ({\n    id,\n    original_title,\n  }));\n  return movies;\n}\n\nexport async function getSearchFilms(query) {\n  const params = {\n    query,\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n  };\n  const { data } = await axios.get('/search/movie', { params });\n  const movies = data.results.map(({ id, original_title }) => ({\n    id,\n    original_title,\n  }));\n  return movies;\n}\n\nexport async function getFilmsById(id) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n  };\n  const { data } = await axios.get(`/movie/${id}`, { params });\n  const {\n    poster_path,\n    original_title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  } = data;\n  return {\n    poster_path,\n    original_title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  };\n}\n\nexport async function getCreditsById(id) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n  };\n  const { data } = await axios.get(`/movie/${id}/credits`, { params });\n  const credits = data.cast.map(({ id, name, profile_path }) => ({\n    id,\n    name,\n    profile_path,\n  }));\n  return credits;\n}\n\nexport async function getReviewsById(id) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n  };\n  const { data } = await axios.get(`/movie/${id}/reviews`, { params });\n  const reviews = data.results.map(({ id, author, content }) => ({\n    id,\n    author,\n    content,\n  }));\n  return reviews;\n}\n"],"names":["ButtonBack","styled","NavLink","DetailsBox","DetailsTitle","DetailsText","InfoLink","defaultImg","URL","useState","movieDetails","setMovieDetails","loading","setLoading","movieId","useParams","location","useLocation","error","setError","useEffect","getMovieById","getFilmsById","toast","to","state","from","src","poster_path","alt","original_title","release_date","slice","vote_average","toFixed","overview","genres","map","name","join","width","color","position","autoClose","closeOnClick","theme","axios","API_KEY","getPopularFilms","params","api_key","language","include_adult","data","movies","results","id","getSearchFilms","query","getCreditsById","credits","cast","profile_path","getReviewsById","reviews","author","content"],"sourceRoot":""}