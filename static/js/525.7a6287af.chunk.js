"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[525],{1525:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var r,a,i,o,s,u=t(5861),c=t(9439),p=t(7757),l=t.n(p),d=t(2791),f=t(7689),h=t(3309),g=t(7596),m=(t(5462),t(168)),v=t(1087),x=t(6444),_=(0,x.ZP)(v.OL)(r||(r=(0,m.Z)(["\n  display: block;\n  width: 100px;\n  border: 1px solid #aaa5a5;\n  font-size: 16px;\n  text-align: center;\n  padding: 10px 0;\n  margin-top: 50px;\n  margin-bottom: 20px;\n  &:hover,\n  &:focus {\n    background-color: #292424;\n    color: #fff;\n  }\n"]))),w=x.ZP.div(a||(a=(0,m.Z)(["\n  display: flex;\n  margin-bottom: 50px;\n  & > img {\n    display: block;\n    margin-right: 50px;\n  }\n"]))),b=x.ZP.h2(i||(i=(0,m.Z)(["\n  margin-top: 0;\n  font-size: 48px;\n  font-weight: 700;\n  margin-bottom: 30px;\n"]))),k=x.ZP.p(o||(o=(0,m.Z)(["\n  font-size: 16px;\n  font-weight: 700;\n  margin-bottom: 15px;\n"]))),Z=(0,x.ZP)(_)(s||(s=(0,m.Z)(["\n  display: inline-block;\n  width: 80px;\n  border: 1px solid #aaa5a5;\n  font-size: 16px;\n  text-align: center;\n  padding: 10px 0;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 30px;\n  &:hover,\n  &:focus {\n    background-color: #292424;\n    color: #fff;\n  }\n"]))),j=t(8402),y=t(184),S=new URL(t(3114),t.b),U=function(){var n,e,t,r=(0,d.useState)(null),a=(0,c.Z)(r,2),i=a[0],o=a[1],s=(0,d.useState)(!1),p=(0,c.Z)(s,2),m=p[0],v=p[1],x=(0,f.UO)().movieId,U=(0,f.TH)(),C=(0,d.useState)(""),z=(0,c.Z)(C,2),O=z[0],P=z[1];return(0,d.useEffect)((function(){if(x){var n=function(){var n=(0,u.Z)(l().mark((function n(e){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v(!0),n.next=4,(0,h.s9)(e);case 4:t=n.sent,o(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),P("Oops. Something went wrong \ud83d\ude2d");case 11:return n.prev=11,v(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(e){return n.apply(this,arguments)}}();n(x)}}),[x]),(0,d.useEffect)((function(){O&&g.Am.error(O)}),[O]),(0,y.jsxs)(y.Fragment,{children:[i&&!m&&!O&&(0,y.jsxs)("div",{children:[(0,y.jsx)(_,{to:null===U||void 0===U||null===(n=U.state)||void 0===n?void 0:n.from,children:"Go back"}),(0,y.jsxs)(w,{children:[(0,y.jsx)("img",{src:i.poster_path?"https://image.tmdb.org/t/p/w500"+i.poster_path:S,alt:i.original_title}),(0,y.jsxs)("div",{children:[(0,y.jsxs)(b,{children:[i.original_title,"(",i.release_date.slice(0,4),")"]}),(0,y.jsxs)(k,{children:["User score: ",i.vote_average.toFixed(1)]}),(0,y.jsx)(k,{children:"Overview"}),(0,y.jsx)("p",{children:i.overview}),(0,y.jsx)(k,{children:"Genres"}),(0,y.jsx)("p",{children:i.genres.map((function(n){return n.name})).join(" ,")})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(b,{children:"Additional information"}),(0,y.jsx)(Z,{to:"cast",state:{from:null===U||void 0===U||null===(e=U.state)||void 0===e?void 0:e.from},children:"Cast"}),(0,y.jsx)(Z,{to:"reviews",state:{from:null===U||void 0===U||null===(t=U.state)||void 0===t?void 0:t.from},children:"Reviews"}),(0,y.jsx)(f.j3,{})]})]}),m&&!O&&(0,y.jsx)(j.Nx,{width:"200",color:"#4fa94d"}),(0,y.jsx)(g.Ix,{position:"top-center",autoClose:5e3,closeOnClick:!0,theme:"colored"})]})}},3309:function(n,e,t){t.d(e,{Cp:function(){return u},Yc:function(){return h},fI:function(){return m},gW:function(){return p},s9:function(){return d}});var r=t(5861),a=t(7757),i=t.n(a),o=t(1912);o.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="2963fc82afd3cb57f64d050a1ba5935c";function u(){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(i().mark((function n(){var e,t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={api_key:s,language:"en-US",include_adult:!1},n.next=3,o.Z.get("/trending/movie/day",{params:e});case 3:return t=n.sent,r=t.data,a=r.results.map((function(n){return{id:n.id,original_title:n.original_title}})),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function n(e){var t,r,a,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={query:e,api_key:s,language:"en-US",include_adult:!1},n.next=3,o.Z.get("/search/movie",{params:t});case 3:return r=n.sent,a=r.data,u=a.results.map((function(n){return{id:n.id,original_title:n.original_title}})),n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function n(e){var t,r,a,u,c,p,l,d,f;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={api_key:s,language:"en-US",include_adult:!1},n.next=3,o.Z.get("/movie/".concat(e),{params:t});case 3:return r=n.sent,a=r.data,u=a.poster_path,c=a.original_title,p=a.release_date,l=a.vote_average,d=a.overview,f=a.genres,n.abrupt("return",{poster_path:u,original_title:c,release_date:p,vote_average:l,overview:d,genres:f});case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function n(e){var t,r,a,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={api_key:s,language:"en-US",include_adult:!1},n.next=3,o.Z.get("/movie/".concat(e,"/credits"),{params:t});case 3:return r=n.sent,a=r.data,u=a.cast.map((function(n){return{id:n.id,name:n.name,profile_path:n.profile_path}})),n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function n(e){var t,r,a,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={api_key:s,language:"en-US",include_adult:!1},n.next=3,o.Z.get("/movie/".concat(e,"/reviews"),{params:t});case 3:return r=n.sent,a=r.data,u=a.results.map((function(n){return{id:n.id,author:n.author,content:n.content}})),n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},3114:function(n,e,t){n.exports=t.p+"static/media/zaglushka.b18d01b007a2aed2c005.jpg"}}]);
//# sourceMappingURL=525.7a6287af.chunk.js.map